webpackJsonp([2],{zKft:function(n,l,u){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=u("WT6e"),e=function(){},i=u("EF1m"),r=u("Xjw4"),o=function(){function n(){this.duration=0,this.currentTime=0}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"audioNativeElement",{get:function(){return this.audioElement.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentPosition",{get:function(){if(this.duration){var n=100*this.currentTime/this.duration;return n>100?100:n}return 0},enumerable:!0,configurable:!0}),n.prototype.play=function(){this.audioNativeElement.play(),this.requestAnimationFrame()},n.prototype.requestAnimationFrame=function(){var n=this;this.requestAnimationFrameId=requestAnimationFrame(function(){return n.animate()})},n.prototype.animate=function(){this.currentTime=this.audioNativeElement.currentTime,this.requestAnimationFrame()},n.prototype.pause=function(){cancelAnimationFrame(this.requestAnimationFrameId),this.audioNativeElement.pause()},n.prototype.onTimeUpdate=function(){this.currentTime=this.audioNativeElement.currentTime},n.prototype.onLoadedMetaData=function(){this.duration=this.audioNativeElement.duration},n.prototype.onScaleClick=function(n){var l=this.duration*this.getScaleClickCoefficient(n);l>this.duration&&(l=this.duration),this.audioNativeElement.currentTime=l},n.prototype.getScaleClickCoefficient=function(n){var l=n.currentTarget;return(n.clientX-l.getBoundingClientRect().left)/l.offsetWidth},n}(),a=t._2({encapsulation:0,styles:[[".player[_ngcontent-%COMP%]{width:600px;margin:0 auto}.player-timeline[_ngcontent-%COMP%]{position:relative;margin:20px 0}.player-timeline__time[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;line-height:20px;margin-top:-10px;font-size:14px}.player-timeline__time--duration[_ngcontent-%COMP%]{left:auto;right:0}.player-timeline-scale[_ngcontent-%COMP%]{position:relative;height:30px;margin:30px 60px;border-radius:2px;background:#fff}.player-timeline-scale__handle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0;height:100%;background:#3d9fea}.player__button[_ngcontent-%COMP%]{display:block;width:48px;height:48px;margin:0 auto;padding:0;border:none;border-radius:50%;background:0 0;font-size:48px;color:#fff}"]],data:{}});function c(n){return t._24(0,[(n()(),t._4(0,0,null,null,3,"button",[["class","player__button"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.play()&&t),t},null,null)),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(2,0,null,null,0,"span",[["class","icon-play"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\n  "]))],null,null)}function _(n){return t._24(0,[(n()(),t._4(0,0,null,null,3,"button",[["class","player__button"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.pause()&&t),t},null,null)),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(2,0,null,null,0,"span",[["class","icon-pause"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\n  "]))],null,null)}function p(n){return t._24(0,[t._17(0,i.a,[]),t._20(402653184,1,{audioElement:0}),(n()(),t._4(2,0,null,null,30,"div",[["class","player"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\n  "])),(n()(),t._4(4,0,[[1,0],["audioElement",1]],null,5,"audio",[],null,[[null,"timeupdate"],[null,"loadedmetadata"]],function(n,l,u){var t=!0,e=n.component;return"timeupdate"===l&&(t=!1!==e.onTimeUpdate()&&t),"loadedmetadata"===l&&(t=!1!==e.onLoadedMetaData()&&t),t},null,null)),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(6,0,null,null,0,"source",[["type","audio/ogg"]],[[8,"src",4]],null,null,null,null)),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(8,0,null,null,0,"source",[["type","audio/mpeg"]],[[8,"src",4]],null,null,null,null)),(n()(),t._22(-1,null,["\n  "])),(n()(),t._22(-1,null,["\n\n  "])),(n()(),t._4(11,0,null,null,14,"div",[["class","player-timeline"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(13,0,null,null,2,"div",[["class","player-timeline__time"]],null,null,null,null,null)),(n()(),t._22(14,null,["",""])),t._19(15,2),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(17,0,null,null,3,"div",[["class","player-timeline-scale"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.onScaleClick(u)&&t),t},null,null)),(n()(),t._22(-1,null,["\n      "])),(n()(),t._4(19,0,null,null,0,"div",[["class","player-timeline-scale__handle"]],[[4,"width","%"]],null,null,null,null)),(n()(),t._22(-1,null,["\n    "])),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(22,0,null,null,2,"div",[["class","player-timeline__time player-timeline__time--duration"]],null,null,null,null,null)),(n()(),t._22(23,null,["",""])),t._19(24,2),(n()(),t._22(-1,null,["\n  "])),(n()(),t._22(-1,null,["\n\n  "])),(n()(),t.Z(16777216,null,null,1,null,c)),t._3(28,16384,null,0,r.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(n()(),t._22(-1,null,["\n\n  "])),(n()(),t.Z(16777216,null,null,1,null,_)),t._3(31,16384,null,0,r.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(n()(),t._22(-1,null,["\n"])),(n()(),t._22(-1,null,["\n"]))],function(n,l){var u=l.component;n(l,28,0,u.audioNativeElement.paused),n(l,31,0,!1===u.audioNativeElement.paused)},function(n,l){var u=l.component;n(l,6,0,u.record.oggUrl),n(l,8,0,u.record.mp3Url),n(l,14,0,t._23(l,14,0,n(l,15,0,t._15(l,0),u.duration,!0))),n(l,19,0,u.percentPosition),n(l,23,0,t._23(l,23,0,n(l,24,0,t._15(l,0),u.currentTime,!0)))})}var s=function(){function n(n,l){this.apiService=n,this.router=l}return n.prototype.ngOnInit=function(){},n.prototype.onButtonClick=function(n){var l=this;confirm(n.target.title)&&this.apiService.deleteRecord(this.record.id).subscribe(function(){return l.router.navigate(["/"])})},n}(),d=u("HtM4"),f=u("bfOx"),m=t._2({encapsulation:0,styles:[[".play-delete-record__button[_ngcontent-%COMP%]{padding:0;border:none;background:0 0;text-decoration:underline;color:#ff0}.play-delete-record__button[_ngcontent-%COMP%]:hover{text-decoration:none}"]],data:{}});function g(n){return t._24(0,[(n()(),t._4(0,0,null,null,10,"div",[["class","play-delete-record"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\n  "])),(n()(),t._4(2,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t._22(-1,null,["\u0412\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u044d\u0442\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0435\u0451 \u0443\u0434\u0430\u043b\u0438\u0442\u044c."])),(n()(),t._22(-1,null,["\n  "])),(n()(),t._4(5,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(7,0,null,null,1,"button",[["class","play-delete-record__button"],["title","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u0430\u0439\u043b?"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.onButtonClick(u)&&t),t},null,null)),(n()(),t._22(-1,null,["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"])),(n()(),t._22(-1,null,["\n  "])),(n()(),t._22(-1,null,["\n"])),(n()(),t._22(-1,null,["\n"]))],null,null)}var h=u("33hi"),y=u("9vnO"),v=u("OE0E"),b=function(){function n(n,l){this.route=n,this.apiService=l,this.error=!1}return Object.defineProperty(n.prototype,"recordCanBeDeleted",{get:function(){return this.record&&this.record.owner},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.subscription=this.route.params.subscribe(function(l){return n.onRouteParamsChange(l)})},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.onRouteParamsChange=function(n){this.onRecordIdChange(n.id)},n.prototype.onRecordIdChange=function(n){var l=this;n&&this.apiService.getRecord(n).subscribe(function(n){return l.record=n},function(n){return l.error=!0})},n}(),k=t._2({encapsulation:0,styles:[["\n/*# sourceMappingURL=src/app/play/play.component.css.map */"]],data:{}});function C(n){return t._24(0,[(n()(),t._4(0,0,null,null,1,"app-player",[],null,null,null,p,a)),t._3(1,114688,null,0,o,[],{record:[0,"record"]},null)],function(n,l){n(l,1,0,l.component.record)},null)}function O(n){return t._24(0,[(n()(),t._4(0,0,null,null,1,"div",[["class","page__content"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u0443\u0434\u0438\u043e\u0444\u0430\u0439\u043b\u0430..."]))],null,null)}function I(n){return t._24(0,[(n()(),t._4(0,0,null,null,1,"div",[["class","page__content"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0430\u0443\u0434\u0438\u043e \u0444\u0430\u0439\u043b\u0430, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u043d \u0443\u0436\u0435 \u0431\u044b\u043b \u0443\u0434\u0430\u043b\u0435\u043d."]))],null,null)}function E(n){return t._24(0,[(n()(),t._4(0,0,null,null,1,"app-play-delete-record",[],null,null,null,g,m)),t._3(1,114688,null,0,s,[d.a,f.k],{record:[0,"record"]},null)],function(n,l){n(l,1,0,l.component.record)},null)}function N(n){return t._24(0,[(n()(),t._4(0,0,null,null,30,"div",[["class","play page"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\n  "])),(n()(),t._4(2,0,null,null,1,"app-meta",[["title","\u041f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0443\u0434\u0438\u043e\u0444\u0430\u0439\u043b\u0430"]],null,null,null,h.b,h.a)),t._3(3,114688,null,0,y.a,[v.h,v.g],{title:[0,"title"]},null),(n()(),t._22(-1,null,["\n\n  "])),(n()(),t._4(5,0,null,null,24,"div",[["class","container"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\n    "])),(n()(),t._4(7,0,null,null,1,"h3",[["class","page__title"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\u041f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"])),(n()(),t._22(-1,null,["\n\n    "])),(n()(),t.Z(16777216,null,null,1,null,C)),t._3(11,16384,null,0,r.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(n()(),t._22(-1,null,["\n\n    "])),(n()(),t.Z(16777216,null,null,1,null,O)),t._3(14,16384,null,0,r.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(n()(),t._22(-1,null,["\n\n    "])),(n()(),t.Z(16777216,null,null,1,null,I)),t._3(17,16384,null,0,r.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(n()(),t._22(-1,null,["\n\n    "])),(n()(),t._4(19,0,null,null,9,"div",[["class","page__content"]],null,null,null,null,null)),(n()(),t._22(-1,null,["\n      "])),(n()(),t.Z(16777216,null,null,1,null,E)),t._3(22,16384,null,0,r.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(n()(),t._22(-1,null,["\n\n      "])),(n()(),t._4(24,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),t._4(25,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,u){var e=!0;return"click"===l&&(e=!1!==t._15(n,26).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t._3(26,671744,null,0,f.m,[f.k,f.a,r.g],{routerLink:[0,"routerLink"]},null),(n()(),t._22(-1,null,["\u0417\u0430\u043f\u0438\u0441\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0430\u0443\u0434\u0438\u043e\u0444\u0430\u0439\u043b"])),(n()(),t._22(-1,null,["\n    "])),(n()(),t._22(-1,null,["\n  "])),(n()(),t._22(-1,null,["\n"])),(n()(),t._22(-1,null,["\n"]))],function(n,l){var u=l.component;n(l,3,0,"\u041f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0443\u0434\u0438\u043e\u0444\u0430\u0439\u043b\u0430"),n(l,11,0,u.record),n(l,14,0,!u.record&&!u.error),n(l,17,0,u.error),n(l,22,0,u.recordCanBeDeleted),n(l,26,0,"/")},function(n,l){n(l,25,0,t._15(l,26).target,t._15(l,26).href)})}var P=t._0("app-play",b,function(n){return t._24(0,[(n()(),t._4(0,0,null,null,1,"app-play",[],null,null,null,N,k)),t._3(1,245760,null,0,b,[f.a,d.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),M=u("7DMc"),x=u("ItHS"),T=u("+6CI"),K=u("ZTzl"),F=u("fAE3"),S=function(){};u.d(l,"PlayModuleNgFactory",function(){return j});var j=t._1(e,[],function(n){return t._11([t._12(512,t.j,t.X,[[8,[P]],[3,t.j],t.v]),t._12(4608,M.c,M.c,[]),t._12(4608,x.i,x.o,[r.c,t.z,x.m]),t._12(4608,x.p,x.p,[x.i,x.n]),t._12(5120,x.a,function(n){return[n]},[x.p]),t._12(4608,x.l,x.l,[]),t._12(6144,x.j,null,[x.l]),t._12(4608,x.h,x.h,[x.j]),t._12(6144,x.b,null,[x.h]),t._12(4608,x.f,x.k,[x.b,t.p]),t._12(4608,x.c,x.c,[x.f]),t._12(4608,r.k,r.j,[t.s,[2,r.p]]),t._12(4608,T.a,T.a,[]),t._12(4608,K.a,K.a,[]),t._12(4608,d.a,d.a,[x.c]),t._12(512,M.b,M.b,[]),t._12(512,M.a,M.a,[]),t._12(512,x.e,x.e,[]),t._12(512,x.d,x.d,[]),t._12(512,r.b,r.b,[]),t._12(512,f.n,f.n,[[2,f.s],[2,f.k]]),t._12(512,F.a,F.a,[]),t._12(512,S,S,[]),t._12(512,e,e,[]),t._12(256,x.m,"XSRF-TOKEN",[]),t._12(256,x.n,"X-XSRF-TOKEN",[]),t._12(256,t.s,"ru",[]),t._12(1024,f.i,function(){return[[{path:"",redirectTo:"/",pathMatch:"full"},{path:":id",component:b}]]},[]),t._12(256,t.J,"xlf",[])])})}});
//# sourceMappingURL=2.c456c67f35e8266141bf.chunk.js.map